<?php$root = realpath(__DIR__ . "/..");require_once($root . "/libs/Smarty.class.php");spl_autoload_register(function ($className) use ($root) {    $type = "Helpers";    $type = (strpos($className, "Controller")) ? "Controllers" : $type;    $type = (strpos($className, "Model")) ? "Models" : $type;    $classPath = $root . "/$type/" . $className . ".php";    if (file_exists($classPath)) {        require_once($classPath);    } else {        die("404 not found");    }});$url = "/" . $_SERVER['REQUEST_URI'];$url = ltrim($url, "/");$parts = explode("/", $url);$controller = ucfirst(($temp = array_shift($parts)) ? $temp : "main") . "Controller";$action = ($temp = array_shift($parts)) ? $temp : "index";$params = $parts;if (!method_exists(($controllerObj = new $controller()), $action)) {    die("404 action not found");}$controllerObj->$action();